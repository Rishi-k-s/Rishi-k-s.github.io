<!DOCTYPE html>
<html lang="en-gb"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">ESP32 Emulation from Scratch using QEMU | Rishi Krishna | Maker  &amp; Engineer</title>
<meta property="og:title" content="ESP32 Emulation from Scratch using QEMU | Rishi Krishna | Maker  &amp; Engineer" />
<meta name="twitter:title" content="ESP32 Emulation from Scratch using QEMU | Rishi Krishna | Maker  &amp; Engineer" />
<meta itemprop="name" content="ESP32 Emulation from Scratch using QEMU | Rishi Krishna | Maker  &amp; Engineer" />
<meta name="application-name" content="ESP32 Emulation from Scratch using QEMU | Rishi Krishna | Maker  &amp; Engineer" />
<meta property="og:site_name" content="Rishi Krishna | Maker &amp; Engineer" />

<meta name="description" content="Explore the portfolio of Rishi Krishna — a Curious Maker, Designer, and Tech Enthusiast passionate about FOSS, IoT, AI, and open hardware innovation.">
<meta itemprop="description" content="Explore the portfolio of Rishi Krishna — a Curious Maker, Designer, and Tech Enthusiast passionate about FOSS, IoT, AI, and open hardware innovation." />
<meta property="og:description" content="Explore the portfolio of Rishi Krishna — a Curious Maker, Designer, and Tech Enthusiast passionate about FOSS, IoT, AI, and open hardware innovation." />
<meta name="twitter:description" content="Explore the portfolio of Rishi Krishna — a Curious Maker, Designer, and Tech Enthusiast passionate about FOSS, IoT, AI, and open hardware innovation." />

<meta property="og:locale" content="en-gb" />
<meta name="language" content="en-gb" />

  <link rel="alternate" hreflang="en-gb" href="https://rishikrishna.com/projects/esp32-emulation-qemu/" title="" />






<meta name="generator" content="Hugo 0.152.2">

    
    <meta property="og:url" content="https://rishikrishna.com/projects/esp32-emulation-qemu/">
  <meta property="og:site_name" content="Rishi Krishna | Maker  & Engineer">
  <meta property="og:title" content="ESP32 Emulation from Scratch using QEMU">
  <meta property="og:description" content="We are Setting up a ESP32 Emulation in QEMU(QuickEMUlator), to write and compile the program we need ESP-IDF, which is an SDK provided by Espressif for ESP32 chipsets, so first we write and compile the programs in ESP-IDF then we use QEMU to emulate it, the end goal of this is to integrate this with Yaksh:Python based evaluation platform by FOSSEE so that we can test if the program is correct or not via the platform. Make sure you have pretty good internet connection as we are gonna download multiple repositories">
  <meta property="og:locale" content="en_gb">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2025-11-07T23:17:28+05:30">
    <meta property="article:modified_time" content="2025-11-07T23:17:28+05:30">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ESP32 Emulation from Scratch using QEMU">
  <meta name="twitter:description" content="We are Setting up a ESP32 Emulation in QEMU(QuickEMUlator), to write and compile the program we need ESP-IDF, which is an SDK provided by Espressif for ESP32 chipsets, so first we write and compile the programs in ESP-IDF then we use QEMU to emulate it, the end goal of this is to integrate this with Yaksh:Python based evaluation platform by FOSSEE so that we can test if the program is correct or not via the platform. Make sure you have pretty good internet connection as we are gonna download multiple repositories">


    

    <link rel="canonical" href="https://rishikrishna.com/projects/esp32-emulation-qemu/">
    <link href="/style.min.2d921c18cf1ec555ffc03d59a8adc211c402c68c930c27d6a0c306ab175a8d09.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://rishikrishna.com/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    
    
      
<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet">

    
</head>
<body data-theme = "light" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://rishikrishna.com/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/blog/">
                        Blog
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/projects/">
                        Projects
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/talks/">
                        Talks
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/about/">
                        About
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">ESP32 Emulation from Scratch using QEMU</h1>
                
                
                
                <div class="post-meta">
                    <time datetime="2025-11-07T23:17:28&#43;05:30" itemprop="datePublished"> 7 Nov 2025 </time>
                </div>
                
            </header>
            
    
    <details class="toc" ZgotmplZ>
        <summary><b>Table of Contents</b></summary>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#os-config-my-pc">OS Config (my pc)</a></li>
    <li><a href="#software-config-my-pc">Software Config (my pc)</a></li>
    <li><a href="#step-1-setting-up-the-system">Step 1: Setting up the system</a>
      <ul>
        <li><a href="#setting-up-ubuntudebian-in-wsl-for-windows-users">Setting up Ubuntu/Debian in WSL (for Windows users)</a></li>
      </ul>
    </li>
    <li><a href="#step-2-prerequisites">Step 2: Prerequisites</a></li>
    <li><a href="#step-3-installing-packages">Step 3: Installing Packages</a>
      <ul>
        <li><a href="#esp-idf">ESP-IDF</a></li>
        <li><a href="#qemu">QEMU</a></li>
      </ul>
    </li>
    <li><a href="#demo-1-hello-world">Demo 1: Hello World</a></li>
    <li><a href="#demo-2-blinking-led">Demo 2: Blinking LED</a></li>
    <li><a href="#demo-3-simulating-temperature-sensor">Demo 3: Simulating Temperature Sensor</a></li>
    <li><a href="#running-qemu-in-headless-mode-for-yaksh-most-important-section">Running QEMU In Headless-mode: for Yaksh (Most Important Section)</a></li>
    <li><a href="#reflection-integrating-with-yaksh">Reflection: Integrating with Yaksh</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </details>
            <div class="page-content">
                <p>We are Setting up a ESP32 Emulation in <strong>QEMU(QuickEMUlator)</strong>, to write and compile the program we need <strong>ESP-IDF</strong>, which is an SDK provided by Espressif for ESP32 chipsets, so first we write and compile the programs in ESP-IDF then we use QEMU to emulate it, the end goal of this is to integrate this with <strong>Yaksh</strong>:Python based evaluation platform by FOSSEE so that we can test if the program is correct or not via the platform. <br>
Make sure you have pretty <strong>good internet connection</strong> as we are gonna download multiple repositories</p>
<h2 id="os-config-my-pc">OS Config (my pc)</h2>
<ul>
<li>OS      : Ubuntu 24.04.3 LTS (6.14.0-34-generic)</li>
<li>CPU     : 12th Gen Intel(R) Core(TM) i7-12650H (x86_64)</li>
<li>Mem     : 31.0 GiB</li>
<li>GPU     : NVIDIA GeForce RTX 3050 Mobile</li>
</ul>
<h2 id="software-config-my-pc">Software Config (my pc)</h2>
<p><strong>We will be installing these in next steps</strong></p>
<ul>
<li>Python 3.12.3</li>
<li>git version 2.43.0</li>
<li>pip 24.0</li>
<li>cmake version 3.28.3</li>
<li>GNU Make 4.3</li>
<li>gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0</li>
<li>g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0</li>
<li>QEMU emulator version 8.2.2</li>
<li>ESP-IDF v5.5.1</li>
</ul>
<h2 id="step-1-setting-up-the-system">Step 1: Setting up the system</h2>
<p>have a linux or a WSL Environment, here i am using Ubuntu, <strong>if you have a GNU/linux(preferably Ubuntu/Debian) system skip the WSL step, continue to step 2</strong>, else if your using windows follow the below steps</p>
<h3 id="setting-up-ubuntudebian-in-wsl-for-windows-users">Setting up Ubuntu/Debian in WSL (for Windows users)</h3>
<p>Setting up and using Windows Subsystem for Linux, you can find the official documentation from windows <a href="https://learn.microsoft.com/en-us/windows/wsl/install">here</a> or you can follow the steps below to install <strong>Ubuntu</strong> in WSL, or you can choose your own linux flavour<br>
<strong>Install WSL command</strong> <br>
You can now install everything you need to run WSL with a single command. Open PowerShell in <strong>administrator</strong> mode by right-clicking and selecting &ldquo;Run as administrator&rdquo;, enter the wsl &ndash;install command, then restart your machine:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wsl --install
</span></span></code></pre></div><p>This command will enable the features necessary to run WSL and install the Ubuntu distribution of Linux. (This default distribution can be changed). <br>
<strong>Change the default Linux distribution installed(if you know whay you are doing)</strong> <br>
To see a list of available Linux distributions available for download through the online store, enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wsl.exe --list --online
</span></span></code></pre></div><p>To change the distribution installed, enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wsl.exe --install <span style="color:#f92672">[</span>Distro<span style="color:#f92672">]</span> <span style="color:#75715e"># Example: wsl.exe --install ubuntu  </span>
</span></span></code></pre></div><p>Now once all the installation is done restart the PC and to enable WSL, in terminal enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wsl <span style="color:#75715e"># to activate WSL</span>
</span></span></code></pre></div><p>then enter</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd <span style="color:#75715e"># to redirect to home(~/) directory</span>
</span></span></code></pre></div><p>which make sure that we are using the linux file system and not the /mnt/ from windows</p>
<h2 id="step-2-prerequisites">Step 2: Prerequisites</h2>
<p>now lets update the system repositories to latest version run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update <span style="color:#f92672">&amp;&amp;</span> sudo apt upgrade -y
</span></span></code></pre></div><p>once it is done lets download the basic packages, in terminal enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install -y git python3 python3-pip cmake make gcc g++
</span></span></code></pre></div><p>now to ensure if you have installed all the packages run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git --version
</span></span><span style="display:flex;"><span>python3 --version
</span></span><span style="display:flex;"><span>pip3 --version
</span></span><span style="display:flex;"><span>cmake --version
</span></span><span style="display:flex;"><span>make --version
</span></span><span style="display:flex;"><span>gcc --version
</span></span><span style="display:flex;"><span>g++ --version
</span></span></code></pre></div><p>If each command prints a version (e.g., <code>git version 2.34.1</code>), it means it’s installed and working fine, else install that specific package again</p>
<h2 id="step-3-installing-packages">Step 3: Installing Packages</h2>
<h3 id="esp-idf">ESP-IDF</h3>
<p>The ESP IDF come in many versions, like latest and stable, i have gone with stable and will be using the stable version for the entire process, documentation is pretty easy to follow and install and you can find it at
<a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/index.html#manual-installation">ESP-IDF Installation</a></p>
<p>for Ubuntu/Debian users, i have copied an Excerpt for installing ESP-IDF in Linux systems below or continue from <a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/linux-macos-setup.html#installing-python-3">here</a></p>
<h4 id="esp-idf-installation-for-ubuntudebian-users">ESP-IDF installation <strong>for Ubuntu/Debian users</strong></h4>
<p>To compile using ESP-IDF, you need to get the following packages. The command to run depends on which distribution of Linux you are using: <br>
<strong>Prerequisites</strong><br>
basically downloading and installing the prerequisites:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0 
</span></span></code></pre></div><p><strong>Installing Python</strong><br>
now checking python 3</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 --version
</span></span></code></pre></div><p>if this shows an output like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Python 3.12.3
</span></span></code></pre></div><p>you are good to go ! or else download python, now lets get started with the ESP-IDF installation <br>
<strong>Getting ESP-IDF</strong><br>
To build applications for the ESP32, you need the software libraries provided by Espressif in ESP-IDF repository. <br>
To get ESP-IDF, navigate to your installation directory and clone the repository with git clone, following instructions below specific to your operating system(here we are going with Ubuntu / Debian).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p ~/esp
</span></span><span style="display:flex;"><span>cd ~/esp
</span></span><span style="display:flex;"><span>git clone -b v5.5.1 --recursive https://github.com/espressif/esp-idf.git
</span></span></code></pre></div><p><strong>Setting up ESP-IDF</strong><br>
Aside from the ESP-IDF, you also need to install the tools used by ESP-IDF, such as the compiler, debugger, Python packages, etc, for projects supporting ESP32.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/esp/esp-idf
</span></span><span style="display:flex;"><span>./install.sh esp32
</span></span></code></pre></div><p><strong>Set up the Environment Variables</strong>
In the terminal where you are going to use ESP-IDF, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>. $HOME/esp/esp-idf/export.sh
</span></span></code></pre></div><blockquote>
<p>Note the space between the leading dot and the path!</p>
</blockquote>
<p><strong>Extras(Really useful)</strong> <br>
now we need to add this idf.py to the PATH so that we can access it from anywhere <br>
Copy and paste the following command to your shell&rsquo;s profile (.profile, .bashrc, .zprofile, etc.), usually its .bashrc</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>alias get_idf<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;. $HOME/esp/esp-idf/export.sh&#39;</span>
</span></span></code></pre></div><p>then do</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>source .bashrc
</span></span></code></pre></div><p>Yay we downloaded and installed ESP-IDF, now if we enter</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>get_idf
</span></span></code></pre></div><p>in terminal it activates ESP-IDF if that directory
<a href="/files/image.png" data-lightbox="post-gallery" data-title="just running esp idf">
  <img 
    src="/files/image.png" 
    alt="just running esp idf" 
    title="just running esp idf"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<p>now to get the ESP-IDF version, we need to enter this commands into terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py --version <span style="color:#75715e">#this should be done after entering get_idf</span>
</span></span></code></pre></div><p><a href="/files/esp-idf-new.png" data-lightbox="post-gallery" data-title="After selecting esp idf version">
  <img 
    src="/files/esp-idf-new.png" 
    alt="After selecting esp idf version" 
    title="After selecting esp idf version"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>

which gives the output</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ESP-IDF v5.5.1
</span></span></code></pre></div><h3 id="qemu">QEMU</h3>
<ul>
<li>
<p>Now moving on to QEMU, we need to download and install QEMU from the espressif&rsquo;s Repositories, as they have support for CPU, memory, and several peripherals of ESP32, we are going to follow the <a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-guides/tools/qemu.html">QEMU Emulator Documentation</a> from espressif</p>
</li>
<li>
<p>also if you need build for a specific target with specific features <a href="https://github.com/espressif/esp-toolchain-docs/blob/main/qemu/README.md">check this out</a></p>
</li>
<li>
<p><strong>first lets install the prerequisites</strong> <br>
To use QEMU with idf.py, you first need to install the above-mentioned fork of QEMU. ESP-IDF provides pre-built binaries for x86_64 and arm64 Linux and macOS, as well as x86_64 Windows. Before you use the pre-built binaries on Linux and macOS platforms please install system dependencies:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get install -y libgcrypt20 libglib2.0-0 libpixman-1-0 libsdl2-2.0-0 libslirp0   
</span></span></code></pre></div></li>
<li>
<p>Then install the pre-built binaries with the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>get_idf <span style="color:#75715e"># to activate ESP-IDF environmenet</span>
</span></span><span style="display:flex;"><span>python $IDF_PATH/tools/idf_tools.py install qemu-xtensa qemu-riscv32 <span style="color:#75715e"># Installing binaries</span>
</span></span></code></pre></div><p>After installing QEMU, make sure it is added to PATH by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/esp/esp-idf
</span></span><span style="display:flex;"><span>. ./export.sh
</span></span></code></pre></div><blockquote>
<p>For those who have already installed QEMU via apt repositories, this does not cause a conflict, you can continue with this installation&hellip;</p>
</blockquote>
<p>to check if the installation is successful, enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python $IDF_PATH/tools/idf_tools.py list | grep qemu <span style="color:#75715e"># use the terminal with get_idf</span>
</span></span></code></pre></div><p>if the output is similar to the one given below, you have successfully installed QEMU for ESP-IDF</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>* qemu-xtensa: QEMU <span style="color:#66d9ef">for</span> Xtensa <span style="color:#f92672">(</span>optional<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>* qemu-riscv32: QEMU <span style="color:#66d9ef">for</span> RISC-V <span style="color:#f92672">(</span>optional<span style="color:#f92672">)</span>
</span></span></code></pre></div></li>
</ul>
<p>now we move on to creating project with ESP-IDF and emulating it with QEMU for ESP 32 <br>
<strong>We have Successfully Installed QEMU for ESP32 and ESP-IDF in our system</strong></p>
<blockquote>
<p>Note: QEMU for ESP32 emulates CPU and core peripherals, but not physical GPIO behavior.</p>
</blockquote>
<h2 id="demo-1-hello-world">Demo 1: Hello World</h2>
<p>Now since all requirements are met, the next topic will guide you on how to start your first project, here also im using the official Espressif&rsquo;s documentation, you can find it <a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/linux-macos-setup.html#step-5-first-steps-on-esp-idf">here</a></p>
<p>This guide helps you on the first steps using ESP-IDF. Follow this guide to start a new project on the ESP32 and build, flash, and monitor the device output.</p>
<p>Now you are ready to prepare your application for ESP32. You can start with <a href="https://github.com/espressif/esp-idf/tree/v5.5.1/examples/get-started/hello_world">get-started/hello_world</a> project from <a href="https://github.com/espressif/esp-idf/tree/v5.5.1/examples">examples</a> directory in ESP-IDF.</p>
<p>So basically esp-idf comes with some basic programs.. we are going to run one of them called <code>hello world</code><br>
lets create a working directory via:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir ~/esp-hello-world
</span></span><span style="display:flex;"><span>cd ~/esp-hello-world
</span></span><span style="display:flex;"><span>get_idf
</span></span></code></pre></div><p>now lets copy the hello world example from the <code>~/esp/esp-idf/examples/get-started/hello_world</code> to the current working directory</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp -r $IDF_PATH/examples/get-started/hello_world . <span style="color:#75715e"># This should be done inside esp-hello-world folder</span>
</span></span><span style="display:flex;"><span>cd hello_world
</span></span></code></pre></div><p>Now lets build the project, for that we need to set the target device, in our case, its <code>esp32</code> and build it</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py set-target esp32
</span></span><span style="display:flex;"><span>idf.py build
</span></span></code></pre></div><p>Now here is the difference between running on a physical esp32 and in QEMU, if we was using a physical devboard we would have used command <code>idf.py -p PORT flash</code> but in this case we launch it via QEMU:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py qemu monitor <span style="color:#75715e">#Starts QEMU and attaches the ESP-IDF monitor to it</span>
</span></span></code></pre></div><blockquote>
<p>NOTE:  To exit the emulation use <code>CTRL + ]</code></p>
</blockquote>
<p>now this will run the program in QEMU successfully, it looks like
<a href="/files/hello-world-success.png" data-lightbox="post-gallery" data-title="Hello World simulation">
  <img 
    src="/files/hello-world-success.png" 
    alt="Hello World simulation" 
    title="Hello World simulation"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<h2 id="demo-2-blinking-led">Demo 2: Blinking LED</h2>
<p>Now that everything is working fine lets start a new project from scratch, to blink an LED, I am believing that you have a bit of background in ESP32 and how its GPIO&rsquo;s work, if not <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/gpio.html">here</a> is a link to that.<br>
So we are going to attach an LED on GPIO 2 and Turn it ON wait for 1000ms(1 second) then turn it OFF then wait for another 1000ms(1 second) until i end the program, or like a loop.<br>
first lets get started with initializing a simple project, i am using the same workspace directory as before(from Step:4):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/esp-hello-world
</span></span><span style="display:flex;"><span>get_idf
</span></span><span style="display:flex;"><span>idf.py create-project led_blink
</span></span></code></pre></div><p>now move into <code>main</code> directory inside <code>led_blink</code>, enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd led_blink/main
</span></span><span style="display:flex;"><span>ls
</span></span></code></pre></div><p>It shows these files as output
<a href="/files/led-blink-file.png" data-lightbox="post-gallery" data-title="LED blink basic">
  <img 
    src="/files/led-blink-file.png" 
    alt="LED blink basic" 
    title="LED blink basic"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<p>now We need to edit the <code>led_blink.c</code> file, it is the root file or like the main file of the project.<br>
open this in any of your liked text editors like nvim, vs-code, nano etc&hellip; we are using nano text editor as it comes inbuilt with Ubuntu/Debian systems and is easy to use.<br>
Copy the below code snippet into the file <code>led_blink.c</code>, you can do this by:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano led_blink.c <span style="color:#75715e"># in the led_blink/main directory</span>
</span></span></code></pre></div><blockquote>
<p>NOTE: Remove any lines of code currently in the file led_blink.c</p>
</blockquote>
<p>Then copy the Code snippet below and paste it into the nano window via <code>Ctrl+Shift+v</code> Key combination</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/FreeRTOS.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/task.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;driver/gpio.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define BLINK_GPIO 10   </span><span style="color:#75715e">//Using GPIO 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">app_main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gpio_reset_pin</span>(BLINK_GPIO);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gpio_set_direction</span>(BLINK_GPIO, GPIO_MODE_OUTPUT);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gpio_set_level</span>(BLINK_GPIO, <span style="color:#ae81ff">1</span>);  <span style="color:#75715e">// LED ON
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#ae81ff">1000</span> <span style="color:#f92672">/</span> portTICK_PERIOD_MS);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gpio_set_level</span>(BLINK_GPIO, <span style="color:#ae81ff">0</span>);  <span style="color:#75715e">// LED OFF
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#ae81ff">1000</span> <span style="color:#f92672">/</span> portTICK_PERIOD_MS);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>after copying we need to save the file and exit from nano hence:</p>
<blockquote>
<p><strong>Important:</strong><br>
To save the file in nano enter: <code>Ctrl+o</code><br>
After that to exit nano: <code>Ctrl+x</code></p>
</blockquote>
<p>now make sure you are in the project directory, not in the main directory</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ..
</span></span></code></pre></div><p>Now we need to do the steps we have previously done, build and run in QEMU,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py build
</span></span><span style="display:flex;"><span>idf.py qemu monitor
</span></span></code></pre></div><p>After running this you might end up with someting like
<a href="/files/blink-no-wrk.png" data-lightbox="post-gallery" data-title="Blink No work">
  <img 
    src="/files/blink-no-wrk.png" 
    alt="Blink No work" 
    title="Blink No work"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>

So <strong>i can&rsquo;t see an LED lightup</strong>, but its actually happening, as we are not connected to the hardware we cannot see physical GPIO&rsquo;s to see the ON/OFF commands <strong>we need to add Logging into the program</strong>&hellip;or we could do it in a more simpler way via <code>printf</code> which will be demonstrated in the <a href="http://localhost:1313/projects/esp32-emulation-qemu/#step-6-program-3-simulating-temperature-sensor">next prorgam</a> so once again go to <code>/main/led_blink.c</code> and edit the file via <strong>nano</strong>, if you want you can remove the previous code snipped and add this or add the newly added lines</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/FreeRTOS.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/task.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;driver/gpio.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;esp_log.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define BLINK_GPIO 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>TAG <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;blink&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">app_main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gpio_reset_pin</span>(BLINK_GPIO);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gpio_set_direction</span>(BLINK_GPIO, GPIO_MODE_OUTPUT);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gpio_set_level</span>(BLINK_GPIO, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP_LOGI</span>(TAG, <span style="color:#e6db74">&#34;LED ON&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#ae81ff">1000</span> <span style="color:#f92672">/</span> portTICK_PERIOD_MS);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gpio_set_level</span>(BLINK_GPIO, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP_LOGI</span>(TAG, <span style="color:#e6db74">&#34;LED OFF&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#ae81ff">1000</span> <span style="color:#f92672">/</span> portTICK_PERIOD_MS);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p><strong>Important: Use this code snippet or else you might not get the correct output</strong></p>
</blockquote>
<p>Now you will be seeing
<a href="/files/blink-working.png" data-lightbox="post-gallery" data-title="Blinking LED working">
  <img 
    src="/files/blink-working.png" 
    alt="Blinking LED working" 
    title="Blinking LED working"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>

YAY ! We successfully done blinking LED in QEMU via ESP-IDF</p>
<h2 id="demo-3-simulating-temperature-sensor">Demo 3: Simulating Temperature Sensor</h2>
<p>Here eveything is similar to what we have done before, but rather than using Logging, we are going to use a simple printf, but it also have its disadvantages, like timestamps wont be there, also if we want to do advanced log filtering it cant be done, but if we just want simple output without all the advanced things we can use <code>printf</code>.<br>
now coming back to the program, first lets create a new program in the workspace</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/esp-hello-world
</span></span><span style="display:flex;"><span>get_idf <span style="color:#75715e"># ensuring that ESP-IDF is running in the current directory</span>
</span></span><span style="display:flex;"><span>idf.py create-project temp_simulate
</span></span><span style="display:flex;"><span>cd temp_simulate
</span></span></code></pre></div><p>Now that we are in the project directory, add the code snippet below into <code>temp_simulate/main/temp_simulate.c</code>,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano main/temp_simulate.c
</span></span></code></pre></div><p>Here we are using an actual sensor, we should be changing the <code>read_temperature_sensor</code> to read vales from the actual sensor and rest of the code remains the same&hellip;.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/FreeRTOS.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/task.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;driver/gpio.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define TEMP_SENSOR_GPIO 4  </span><span style="color:#75715e">// pretend sensor pin (e.g. GPIO4)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Simulated function to &#34;read&#34; from GPIO
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">float</span> <span style="color:#a6e22e">read_temperature_sensor</span>(<span style="color:#66d9ef">void</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// In a real sensor: read analog/digital data here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// For simulation, generate random readings
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> raw_value <span style="color:#f92672">=</span> <span style="color:#a6e22e">rand</span>() <span style="color:#f92672">%</span> <span style="color:#ae81ff">1024</span>;  <span style="color:#75715e">// simulate ADC value (0–1023)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">float</span> voltage <span style="color:#f92672">=</span> (raw_value <span style="color:#f92672">/</span> <span style="color:#ae81ff">1023.0</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">3.3</span>;  <span style="color:#75715e">// 0–3.3V
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">float</span> temperature <span style="color:#f92672">=</span> (voltage <span style="color:#f92672">/</span> <span style="color:#ae81ff">3.3</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100.0</span>; <span style="color:#75715e">// scale to 0–100°C (example)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> temperature;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">app_main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>(<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Configure the GPIO pin (input mode)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">gpio_config_t</span> io_conf <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        .pin_bit_mask <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1ULL</span> <span style="color:#f92672">&lt;&lt;</span> TEMP_SENSOR_GPIO),
</span></span><span style="display:flex;"><span>        .mode <span style="color:#f92672">=</span> GPIO_MODE_INPUT,
</span></span><span style="display:flex;"><span>        .pull_up_en <span style="color:#f92672">=</span> GPIO_PULLUP_DISABLE,
</span></span><span style="display:flex;"><span>        .pull_down_en <span style="color:#f92672">=</span> GPIO_PULLDOWN_DISABLE,
</span></span><span style="display:flex;"><span>        .intr_type <span style="color:#f92672">=</span> GPIO_INTR_DISABLE
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gpio_config</span>(<span style="color:#f92672">&amp;</span>io_conf);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Temperature sensor initialized on GPIO %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, TEMP_SENSOR_GPIO);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> temp <span style="color:#f92672">=</span> <span style="color:#a6e22e">read_temperature_sensor</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Temperature from sensor (GPIO %d): %.2f°C</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, TEMP_SENSOR_GPIO, temp);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#a6e22e">pdMS_TO_TICKS</span>(<span style="color:#ae81ff">2000</span>)); <span style="color:#75715e">// read every 2s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>now lets build and run this in QEMU, its same as we have done previously</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py set-target esp32
</span></span><span style="display:flex;"><span>idf.py build
</span></span><span style="display:flex;"><span>idf.py qemu monitor
</span></span></code></pre></div><p>Which gives the output:
<a href="/files/temp-one-out-succes.png" data-lightbox="post-gallery" data-title="Temperature sensor output">
  <img 
    src="/files/temp-one-out-succes.png" 
    alt="Temperature sensor output" 
    title="Temperature sensor output"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<p>Now if we want to make the program simpler, because we are only simulating the values you can copy the code below to make the simulation simpler by just creating a random number between 20 and 35, also congratulations on making it till here.</p>
<blockquote>
<p><strong>NOTE</strong>: to delete the entire program without deleting the file you can use the command <code>echo &quot;&quot; &gt; main/temp_simulate.c</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/FreeRTOS.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;freertos/task.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">app_main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>(<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> temp <span style="color:#f92672">=</span> <span style="color:#ae81ff">20.0</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">rand</span>() <span style="color:#f92672">%</span> <span style="color:#ae81ff">1500</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">100.0</span>; <span style="color:#75715e">// 20.00°C to 35.00°C
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Simulated Temperature: %.2f°C</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, temp);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">vTaskDelay</span>(<span style="color:#a6e22e">pdMS_TO_TICKS</span>(<span style="color:#ae81ff">2000</span>)); <span style="color:#75715e">// delay 2 seconds
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>now lets build and run this in QEMU, its same as we have done previously</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idf.py set-target esp32
</span></span><span style="display:flex;"><span>idf.py build
</span></span><span style="display:flex;"><span>idf.py qemu monitor
</span></span></code></pre></div><p>We get similar output
<a href="/files/temp-new-output.png" data-lightbox="post-gallery" data-title="Get the new temperature data">
  <img 
    src="/files/temp-new-output.png" 
    alt="Get the new temperature data" 
    title="Get the new temperature data"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<p><strong>YAY !!! We have successfully completed Setting up ESP-IDF and integrating QEMU with it and ran multiple programs with it</strong></p>
<h2 id="running-qemu-in-headless-mode-for-yaksh-most-important-section">Running QEMU In Headless-mode: for Yaksh (Most Important Section)</h2>
<p>I am using this <a href="https://github.com/Ebiroll/qemu_esp32/blob/master/README.md?utm_source=chatgpt.com">Reference</a>.<br>
Till now we have been running <code>idf.py qemu</code> for emulation, but our end goal is to run this on Yaksh, hence we need to run QEMU in headless mode to have more control over what is happening and make it easy to run in Yaksh&rsquo;s backend<br>
for that first let go the   <code>temp_simulate</code> project inside the <code>~/esp-hello-world</code> workspace :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/esp-hello-world/temp_simulate
</span></span><span style="display:flex;"><span>get_idf
</span></span><span style="display:flex;"><span>idf.py build
</span></span></code></pre></div><p>now we can check the build directory by:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ls build
</span></span></code></pre></div><p><a href="/files/yaksh-build-happening.png" data-lightbox="post-gallery" data-title="Yaksh Build process">
  <img 
    src="/files/yaksh-build-happening.png" 
    alt="Yaksh Build process" 
    title="Yaksh Build process"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>

Here we can see the <code>bootloader</code>, <code>partition_table</code> directories and <code>temp_simulate.bin</code> we need to combine these three to create a proper SPI flash image (with bootloader + partitions + app), we can do this via:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>esptool.py --chip esp32 merge_bin -o build/flash_image.bin <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  0x1000 build/bootloader/bootloader.bin <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  0x8000 build/partition_table/partition-table.bin <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  0x10000 build/temp_simulate.bin
</span></span></code></pre></div><blockquote>
<p><strong>WARNING !</strong>: Make sure you are in the project directory when running this, in this case its <code>~/esp-hello-world/temp_simulate</code><br>
<strong>NOTE: This process is same for all programs, ony thing you have to change is the build/{program_name} in line 4</strong></p>
</blockquote>
<p>This command creates build/flash_image.bin — a valid 4 MB flash image (bootloader + partition table + firmware).<br>
Just to be on the safer side we are going to <strong>pad this image</strong> <code>flash_image.bin</code> into 4MB by:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>truncate -s 4M build/flash_image.bin
</span></span></code></pre></div><p>Now we can successfully run this in QEMU by:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>qemu-system-xtensa -nographic -machine esp32 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -drive file<span style="color:#f92672">=</span>build/flash_image.bin,if<span style="color:#f92672">=</span>mtd,format<span style="color:#f92672">=</span>raw
</span></span></code></pre></div><p>which gives the output:
<a href="/files/final-qemu-output.png" data-lightbox="post-gallery" data-title="QEMU in headless mode">
  <img 
    src="/files/final-qemu-output.png" 
    alt="QEMU in headless mode" 
    title="QEMU in headless mode"
    style="max-width: 100%; height: auto; cursor: pointer;"
  />
</a>
</p>
<blockquote>
<p>TO exit from this session you have to use <code>Ctrl+a</code> then click <code>x</code></p>
</blockquote>
<h2 id="reflection-integrating-with-yaksh">Reflection: Integrating with Yaksh</h2>
<p>From the previous step we have more control over running in QEMU hence we could store its output in a text file and analyze it in the Yaksh backend with simple bash commands like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>qemu-system-xtensa -nographic -machine esp32 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -drive file<span style="color:#f92672">=</span>build/flash_image.bin,if<span style="color:#f92672">=</span>mtd,format<span style="color:#f92672">=</span>raw &gt; output.txt
</span></span></code></pre></div><p>Here i saved the program into an <code>output.txt</code> file, i could  <code>grep</code> into the output file to check if the desired output is present or not&hellip;
Now the workflow would be:</p>
<ol>
<li>A student submits ESP-IDF source code on Yaksh.</li>
<li>A Python based grader script automatically builds the code using idf.py build, generating an ELF binary and corresponding flash image.</li>
<li>The flash image is executed inside QEMU in headless mode the above commands</li>
<li>The console output (produced by printf() or ESP_LOGI()) is captured by Yaksh.</li>
<li>The grader compares this output against expected results to determine correctness.</li>
</ol>
<p>This approach enables fully automated and hardware-independent testing of embedded programs. It ensures fairness, reproducibility, and scalability</p>
<h2 id="conclusion">Conclusion</h2>
<p>Through this guide, we successfully set up a complete ESP32 emulation environment using QEMU and ESP-IDF, enabling us to build, compile, and run embedded applications entirely in software. By walking through progressively complex demos ranging from Hello World to LED Blinking and a Simulated Temperature Sensor, we demonstrated how real ESP32 programs can execute seamlessly on a virtual device. Finally, by running QEMU in headless mode, we established a foundation for integrating with Yaksh, allowing automated evaluation of embedded code submissions.</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/Rishi-k-s" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://www.linkedin.com/in/rishikrishnas" target="_blank" rel="noopener noreferrer me"
    title="Linkedin">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
</a>
<a href="https://matrix.to/#/@beyond_rishi:matrix.org" target="_blank" rel="noopener noreferrer me"
    title="Matrix">
    <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
    <path
        d="M.632.55v22.9H2.28V24H0V0h2.28v.55zm7.043 7.26v1.157h.033c.309-.443.683-.784 1.117-1.024.433-.245.936-.365 1.5-.365.54 0 1.033.107 1.481.314.448.208.785.582 1.02 1.108.254-.374.6-.706 1.034-.992.434-.287.95-.43 1.546-.43.453 0 .872.056 1.26.167.388.11.716.286.993.53.276.245.489.559.646.951.152.392.23.863.23 1.417v5.728h-2.349V11.52c0-.286-.01-.559-.032-.812a1.755 1.755 0 0 0-.18-.66 1.106 1.106 0 0 0-.438-.448c-.194-.11-.457-.166-.785-.166-.332 0-.6.064-.803.189a1.38 1.38 0 0 0-.48.499 1.946 1.946 0 0 0-.231.696 5.56 5.56 0 0 0-.06.785v4.768h-2.35v-4.8c0-.254-.004-.503-.018-.752a2.074 2.074 0 0 0-.143-.688 1.052 1.052 0 0 0-.415-.503c-.194-.125-.476-.19-.854-.19-.111 0-.259.024-.439.074-.18.051-.36.143-.53.282-.171.138-.319.337-.439.595-.12.259-.18.6-.18 1.02v4.966H5.46V7.81zm15.693 15.64V.55H21.72V0H24v24h-2.28v-.55z" />
</svg>
</a>
<a href="https://www.instagram.com/beyond_rishi/" target="_blank" rel="noopener noreferrer me"
    title="Instagram">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
    <line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line>
</svg>
</a>
<a href="https://x.com/BeyondRishi" target="_blank" rel="noopener noreferrer me"
    title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
</a>
<a href="https://buymeacoffee.com/RishiKrishna" target="_blank" rel="noopener noreferrer me"
    title="Buymeacoffee">
    <svg viewBox="0 0 884 1279" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
    <path d="M791.109 297.518L790.231 297.002L788.201 296.383C789.018 297.072 790.04 297.472 791.109 297.518Z"
        fill="currentColor"></path>
    <path d="M803.896 388.891L802.916 389.166L803.896 388.891Z" fill="currentColor"></path>
    <path
        d="M791.484 297.377C791.359 297.361 791.237 297.332 791.118 297.29C791.111 297.371 791.111 297.453 791.118 297.534C791.252 297.516 791.379 297.462 791.484 297.377Z"
        fill="currentColor"></path>
    <path d="M791.113 297.529H791.244V297.447L791.113 297.529Z" fill="currentColor"></path>
    <path
        d="M803.111 388.726L804.591 387.883L805.142 387.573L805.641 387.04C804.702 387.444 803.846 388.016 803.111 388.726Z"
        fill="currentColor"></path>
    <path d="M793.669 299.515L792.223 298.138L791.243 297.605C791.77 298.535 792.641 299.221 793.669 299.515Z"
        fill="currentColor"></path>
    <path
        d="M430.019 1186.18C428.864 1186.68 427.852 1187.46 427.076 1188.45L427.988 1187.87C428.608 1187.3 429.485 1186.63 430.019 1186.18Z"
        fill="currentColor"></path>
    <path
        d="M641.187 1144.63C641.187 1143.33 640.551 1143.57 640.705 1148.21C640.705 1147.84 640.86 1147.46 640.929 1147.1C641.015 1146.27 641.084 1145.46 641.187 1144.63Z"
        fill="currentColor"></path>
    <path
        d="M619.284 1186.18C618.129 1186.68 617.118 1187.46 616.342 1188.45L617.254 1187.87C617.873 1187.3 618.751 1186.63 619.284 1186.18Z"
        fill="currentColor"></path>
    <path
        d="M281.304 1196.06C280.427 1195.3 279.354 1194.8 278.207 1194.61C279.136 1195.06 280.065 1195.51 280.684 1195.85L281.304 1196.06Z"
        fill="currentColor"></path>
    <path
        d="M247.841 1164.01C247.704 1162.66 247.288 1161.35 246.619 1160.16C247.093 1161.39 247.489 1162.66 247.806 1163.94L247.841 1164.01Z"
        fill="currentColor"></path>
    <path
        d="M472.623 590.836C426.682 610.503 374.546 632.802 306.976 632.802C278.71 632.746 250.58 628.868 223.353 621.274L270.086 1101.08C271.74 1121.13 280.876 1139.83 295.679 1153.46C310.482 1167.09 329.87 1174.65 349.992 1174.65C349.992 1174.65 416.254 1178.09 438.365 1178.09C462.161 1178.09 533.516 1174.65 533.516 1174.65C553.636 1174.65 573.019 1167.08 587.819 1153.45C602.619 1139.82 611.752 1121.13 613.406 1101.08L663.459 570.876C641.091 563.237 618.516 558.161 593.068 558.161C549.054 558.144 513.591 573.303 472.623 590.836Z"
        fill="currentColor"></path>
    <path d="M78.6885 386.132L79.4799 386.872L79.9962 387.182C79.5987 386.787 79.1603 386.435 78.6885 386.132Z"
        fill="currentColor"></path>
    <path
        d="M879.567 341.849L872.53 306.352C866.215 274.503 851.882 244.409 819.19 232.898C808.711 229.215 796.821 227.633 788.786 220.01C780.751 212.388 778.376 200.55 776.518 189.572C773.076 169.423 769.842 149.257 766.314 129.143C763.269 111.85 760.86 92.4243 752.928 76.56C742.604 55.2584 721.182 42.8009 699.88 34.559C688.965 30.4844 677.826 27.0375 666.517 24.2352C613.297 10.1947 557.342 5.03277 502.591 2.09047C436.875 -1.53577 370.983 -0.443234 305.422 5.35968C256.625 9.79894 205.229 15.1674 158.858 32.0469C141.91 38.224 124.445 45.6399 111.558 58.7341C95.7448 74.8221 90.5829 99.7026 102.128 119.765C110.336 134.012 124.239 144.078 138.985 150.737C158.192 159.317 178.251 165.846 198.829 170.215C256.126 182.879 315.471 187.851 374.007 189.968C438.887 192.586 503.87 190.464 568.44 183.618C584.408 181.863 600.347 179.758 616.257 177.304C634.995 174.43 647.022 149.928 641.499 132.859C634.891 112.453 617.134 104.538 597.055 107.618C594.095 108.082 591.153 108.512 588.193 108.942L586.06 109.252C579.257 110.113 572.455 110.915 565.653 111.661C551.601 113.175 537.515 114.414 523.394 115.378C491.768 117.58 460.057 118.595 428.363 118.647C397.219 118.647 366.058 117.769 334.983 115.722C320.805 114.793 306.661 113.611 292.552 112.177C286.134 111.506 279.733 110.801 273.333 110.009L267.241 109.235L265.917 109.046L259.602 108.134C246.697 106.189 233.792 103.953 221.025 101.251C219.737 100.965 218.584 100.249 217.758 99.2193C216.932 98.1901 216.482 96.9099 216.482 95.5903C216.482 94.2706 216.932 92.9904 217.758 91.9612C218.584 90.9319 219.737 90.2152 221.025 89.9293H221.266C232.33 87.5721 243.479 85.5589 254.663 83.8038C258.392 83.2188 262.131 82.6453 265.882 82.0832H265.985C272.988 81.6186 280.026 80.3625 286.994 79.5366C347.624 73.2301 408.614 71.0801 469.538 73.1014C499.115 73.9618 528.676 75.6996 558.116 78.6935C564.448 79.3474 570.746 80.0357 577.043 80.8099C579.452 81.1025 581.878 81.4465 584.305 81.7391L589.191 82.4445C603.438 84.5667 617.61 87.1419 631.708 90.1703C652.597 94.7128 679.422 96.1925 688.713 119.077C691.673 126.338 693.015 134.408 694.649 142.03L696.732 151.752C696.786 151.926 696.826 152.105 696.852 152.285C701.773 175.227 706.7 198.169 711.632 221.111C711.994 222.806 712.002 224.557 711.657 226.255C711.312 227.954 710.621 229.562 709.626 230.982C708.632 232.401 707.355 233.6 705.877 234.504C704.398 235.408 702.75 235.997 701.033 236.236H700.895L697.884 236.649L694.908 237.044C685.478 238.272 676.038 239.419 666.586 240.486C647.968 242.608 629.322 244.443 610.648 245.992C573.539 249.077 536.356 251.102 499.098 252.066C480.114 252.57 461.135 252.806 442.162 252.771C366.643 252.712 291.189 248.322 216.173 239.625C208.051 238.662 199.93 237.629 191.808 236.58C198.106 237.389 187.231 235.96 185.029 235.651C179.867 234.928 174.705 234.177 169.543 233.397C152.216 230.798 134.993 227.598 117.7 224.793C96.7944 221.352 76.8005 223.073 57.8906 233.397C42.3685 241.891 29.8055 254.916 21.8776 270.735C13.7217 287.597 11.2956 305.956 7.64786 324.075C4.00009 342.193 -1.67805 361.688 0.472751 380.288C5.10128 420.431 33.165 453.054 73.5313 460.35C111.506 467.232 149.687 472.807 187.971 477.556C338.361 495.975 490.294 498.178 641.155 484.129C653.44 482.982 665.708 481.732 677.959 480.378C681.786 479.958 685.658 480.398 689.292 481.668C692.926 482.938 696.23 485.005 698.962 487.717C701.694 490.429 703.784 493.718 705.08 497.342C706.377 500.967 706.846 504.836 706.453 508.665L702.633 545.797C694.936 620.828 687.239 695.854 679.542 770.874C671.513 849.657 663.431 928.434 655.298 1007.2C653.004 1029.39 650.71 1051.57 648.416 1073.74C646.213 1095.58 645.904 1118.1 641.757 1139.68C635.218 1173.61 612.248 1194.45 578.73 1202.07C548.022 1209.06 516.652 1212.73 485.161 1213.01C450.249 1213.2 415.355 1211.65 380.443 1211.84C343.173 1212.05 297.525 1208.61 268.756 1180.87C243.479 1156.51 239.986 1118.36 236.545 1085.37C231.957 1041.7 227.409 998.039 222.9 954.381L197.607 711.615L181.244 554.538C180.968 551.94 180.693 549.376 180.435 546.76C178.473 528.023 165.207 509.681 144.301 510.627C126.407 511.418 106.069 526.629 108.168 546.76L120.298 663.214L145.385 904.104C152.532 972.528 159.661 1040.96 166.773 1109.41C168.15 1122.52 169.44 1135.67 170.885 1148.78C178.749 1220.43 233.465 1259.04 301.224 1269.91C340.799 1276.28 381.337 1277.59 421.497 1278.24C472.979 1279.07 524.977 1281.05 575.615 1271.72C650.653 1257.95 706.952 1207.85 714.987 1130.13C717.282 1107.69 719.576 1085.25 721.87 1062.8C729.498 988.559 737.115 914.313 744.72 840.061L769.601 597.451L781.009 486.263C781.577 480.749 783.905 475.565 787.649 471.478C791.392 467.391 796.352 464.617 801.794 463.567C823.25 459.386 843.761 452.245 859.023 435.916C883.318 409.918 888.153 376.021 879.567 341.849ZM72.4301 365.835C72.757 365.68 72.1548 368.484 71.8967 369.792C71.8451 367.813 71.9483 366.058 72.4301 365.835ZM74.5121 381.94C74.6842 381.819 75.2003 382.508 75.7337 383.334C74.925 382.576 74.4089 382.009 74.4949 381.94H74.5121ZM76.5597 384.641C77.2996 385.897 77.6953 386.689 76.5597 384.641V384.641ZM80.672 387.979H80.7752C80.7752 388.1 80.9645 388.22 81.0333 388.341C80.9192 388.208 80.7925 388.087 80.6548 387.979H80.672ZM800.796 382.989C793.088 390.319 781.473 393.726 769.996 395.43C641.292 414.529 510.713 424.199 380.597 419.932C287.476 416.749 195.336 406.407 103.144 393.382C94.1102 392.109 84.3197 390.457 78.1082 383.798C66.4078 371.237 72.1548 345.944 75.2003 330.768C77.9878 316.865 83.3218 298.334 99.8572 296.355C125.667 293.327 155.64 304.218 181.175 308.09C211.917 312.781 242.774 316.538 273.745 319.36C405.925 331.405 540.325 329.529 671.92 311.91C695.906 308.686 719.805 304.941 743.619 300.674C764.835 296.871 788.356 289.731 801.175 311.703C809.967 326.673 811.137 346.701 809.778 363.615C809.359 370.984 806.139 377.915 800.779 382.989H800.796Z"
        fill="currentColor"></path>
</svg>
</a>
<a href="/index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2026 Rishi Krishna.
        
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>


    






    
    <script src="https://rishikrishna.com/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js" integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30&#43;lSNuSkl4QXuNyy8="></script>

    

</body>
</html>
